<script src="~/lib/aspnet-client-validation/aspnet-validation.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        aspnetClientValidation();
        const forms = document.querySelectorAll('form');

        forms.forEach(form => {
            form.addEventListener('submit', function (event) {
                let isValid = true;

                form.querySelectorAll('input, select, textarea').forEach(input => {
                    if (!input.checkValidity()) {
                        input.classList.remove('is-valid');
                        input.classList.add('is-invalid');
                        isValid = false;
                    } else {
                        input.classList.remove('is-invalid');
                        input.classList.add('is-valid');
                    }
                });

                if (!isValid) {
                    event.preventDefault();
                    event.stopPropagation();
                }
                form.classList.add('was-validated');
            });
        });
    });
</script>
